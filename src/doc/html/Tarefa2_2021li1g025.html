<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2_2021li1g025</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Pedro Miguel Meruge Ferreira &lt;a100709@alunos.uminho.pt&gt;;<br />: Ivan S&#233;rgio Rocha Ribeiro &lt;a100538@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2_2021li1g025</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Fun&#231;&#227;o constroiMapa</a><ul><li><a href="#g:2">Fun&#231;&#227;o <code>constroiLinha</code></a></li><li><a href="#g:3">Fun&#231;&#227;o <code>constroiMapaAux</code></a><ul><li><a href="#g:4">Fun&#231;&#245;es Auxiliares de <code>constroiMapa</code></a></li></ul></li></ul></li><li><a href="#g:5">Fun&#231;&#227;o desconstroiMapa</a><ul><li><a href="#g:6">Fun&#231;&#227;o <code>desconstroiLinha</code></a></li><li><a href="#g:7">Fun&#231;&#227;o <code>desconstroiMapaAux</code></a><ul><li><a href="#g:8">Fun&#231;&#245;es auxiliares de <code>desconstroiMapa</code></a></li></ul></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 2 do projeto de LI1 em 2021/22. </p><p>&#201; constitu&#237;do por duas fun&#231;&#245;es principais: <code><a href="Tarefa2_2021li1g025.html#v:constroiMapa" title="Tarefa2_2021li1g025">constroiMapa</a></code> e <code><a href="Tarefa2_2021li1g025.html#v:desconstroiMapa" title="Tarefa2_2021li1g025">desconstroiMapa</a></code>. </p><p>Permitem convertar mapas entre os formatos:</p><ul><li>[<code><a href="LI12122.html#t:Peca" title="LI12122">Peca</a></code>,<code><a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></code>] (sem indica&#231;&#227;o de pe&#231;as <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>).</li><li>[<code><a href="LI12122.html#t:Peca" title="LI12122">Peca</a></code>] (com indica&#231;&#227;o de pe&#231;as <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>).</li></ul><p>A abordagem seguida em ambas as fun&#231;&#245;es foi:</p><ol><li>Converter a primeira linha do mapa fornecido.</li><li>Agrupar as sucessivas linhas convertidas do mapa, por ordem crescente.</li><li>Obter um mapa final convertido.</li></ol></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:constroiMapa">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:constroiLinha">constroiLinha</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; Int -&gt; Int -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</li><li class="src short"><a href="#v:constroiMapaAux">constroiMapaAux</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; Int -&gt; Int -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:ordena">ordena</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:inserePeca">inserePeca</a> :: (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:getLinha">getLinha</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)], [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)])</li><li class="src short"><a href="#v:desconstroiMapa">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:desconstroiLinha">desconstroiLinha</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:desconstroiMapaAux">desconstroiMapaAux</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:yMax2">yMax2</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; Int</li><li class="src short"><a href="#v:getLinha2">getLinha2</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; Int -&gt; ([<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>], [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]])</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#227;o constroiMapa</h1></a><div class="top"><p class="src"><a id="v:constroiMapa" class="def">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:constroiMapa" class="selflink">#</a></p><div class="doc"><p>Dada uma lista de pe&#231;as e respetivas coordenadas, constr&#243;i um mapa s&#243; de pe&#231;as (a grelha propriamente dita), incluindo a refer&#234;ncia a pe&#231;as do tipo <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>.</p><p>Sup&#245;e-se que a lista de pe&#231;as j&#225; foi validada (cf. Tarefa 1).</p><h3>Exemplo</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>constroiMapa [(Bloco,(0,2)),(Bloco,(1,2)),(Bloco,(0,1)),(Bloco,(4,1)),(Porta,(2,1)),(Bloco,(4,0)),(Bloco,(3,2)),(Bloco,(4,2)),(Bloco,(0,0)),(Bloco,(2,2)),(Caixa,(3,1))]
</code></strong>[[Bloco,Vazio,Vazio,Vazio,Bloco],[Bloco,Vazio,Porta,Caixa,Bloco],[Bloco,Bloco,Bloco,Bloco,Bloco]]
</pre></div></div><a href="#g:2" id="g:2"><h2>Fun&#231;&#227;o <code><a href="Tarefa2_2021li1g025.html#v:constroiLinha" title="Tarefa2_2021li1g025">constroiLinha</a></code></h2></a><div class="top"><p class="src"><a id="v:constroiLinha" class="def">constroiLinha</a> <a href="#v:constroiLinha" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Mapa com apenas as pe&#231;as da linha (atrav&#233;s de <code><a href="Tarefa2_2021li1g025.html#v:getLinha" title="Tarefa2_2021li1g025">getLinha</a></code>).</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Acumulador que guarda o &#237;ndice da coluna em que a fun&#231;&#227;o est&#225; a trabalhar.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Constante com o valor y da linha que pretendemos construir.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Constante com o valor m&#225;ximo x do mapa original (obtido de <code><a href="Tarefa1_2021li1g025.html#v:xMax" title="Tarefa1_2021li1g025">xMax</a></code>). </p></td></tr><tr><td class="src">-&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Dada uma lista v&#225;lida de pe&#231;as e as suas respetivas coordenadas, constr&#243;i o mapa de uma linha.</p><p>Devolve as pe&#231;as originais da lista e preenche os espa&#231;os da lista omitidos com <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>.</p><h3>Propriedades:</h3><pre>Quando uma pe&#231;a de uma linha dada tem um &#237;ndice de coluna (valor x), guardado no acumulador, igual ao valor m&#225;ximo x do mapa, a fun&#231;&#227;o percebe que chegou &#224; &#250;ltima coluna e fecha a lista.</pre><pre>Como a fun&#231;&#227;o trabalha apenas com uma lista de elementos da pr&#243;pria linha, &#233; mais eficiente a constru&#231;&#227;o da linha.</pre><h3>Exemplos:</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>constroiLinha [(Porta,(2,3)),(Bloco,(4,3)),(Bloco,(5,3)),(Bloco,(6,3)),(Caixa,(7,3))] 0 3 10
</code></strong>[Vazio,Vazio,Porta,Vazio,Bloco,Bloco,Bloco,Caixa,Vazio,Vazio,Vazio]
</pre><p>Para al&#233;m da lista de pe&#231;as, note-se:</p><ul><li>0 &#233; o &#237;ndice de coluna da pe&#231;a que a fun&#231;&#227;o ir&#225; converter primeiro. 
Como a fun&#231;&#227;o percorre a lista da esquerda para a direita, para o funcionamento correto da fun&#231;&#227;o &#233; necess&#225;rio introduzir o 0 neste par&#226;metro.</li><li>3 &#233; o &#237;ndice da linha (valor y) que pretendemos construir.</li><li>10 &#233; o &#237;ndice m&#225;ximo de colunas (valor x) do mapa espec&#237;fico que pretendemos.</li></ul></div></div><a href="#g:3" id="g:3"><h2>Fun&#231;&#227;o <code><a href="Tarefa2_2021li1g025.html#v:constroiMapaAux" title="Tarefa2_2021li1g025">constroiMapaAux</a></code></h2></a><div class="top"><p class="src"><a id="v:constroiMapaAux" class="def">constroiMapaAux</a> <a href="#v:constroiMapaAux" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Mapa original, mas ordenado (atrav&#233;s de <code><a href="Tarefa2_2021li1g025.html#v:ordena" title="Tarefa2_2021li1g025">ordena</a></code>).</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Acumulador que guarda o valor y da linha em que a fun&#231;&#227;o est&#225; a trabalhar (0 no in&#237;cio, obrigatoriamente).</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Constante com o valor m&#225;ximo y da lista (obtida de <code><a href="Tarefa1_2021li1g025.html#v:yMax" title="Tarefa1_2021li1g025">yMax</a></code>). </p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Constante com o valor m&#225;ximo x da lista (obtida de <code><a href="Tarefa1_2021li1g025.html#v:xMax" title="Tarefa1_2021li1g025">xMax</a></code>). &#201; necess&#225;rio para a fun&#231;&#227;o <code><a href="Tarefa2_2021li1g025.html#v:constroiLinha" title="Tarefa2_2021li1g025">constroiLinha</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Agrupa v&#225;rias linhas constru&#237;das numa lista global. Para isso, chama recursivamente a fun&#231;&#227;o <code><a href="Tarefa2_2021li1g025.html#v:constroiLinha" title="Tarefa2_2021li1g025">constroiLinha</a></code>, aumentando em cada passagem o &#237;ndice da linha constru&#237;da.</p><p>Sup&#245;e-se que a lista j&#225; foi ordenada.</p><h3>Propriedades:</h3><pre>Em cada passagem, a linha de menor &#237;ndice da lista &#233; removida do mapa inicial ( atrav&#233;s de 'getLinha') para tornar mais eficientes as passagens seguintes.</pre><p>Assim, quando <code><a href="Tarefa2_2021li1g025.html#v:getLinha" title="Tarefa2_2021li1g025">getLinha</a></code> procura os elementos da linha seguinte do mapa, j&#225; n&#227;o tem que passar pelos elementos da linha anterior.</p><pre>Quando o valor do &#237;ndice de linha (valor y) , guardado no acumulador, atinge o valor m&#225;ximo y do mapa (obtido por 'yMax'), a fun&#231;&#227;o percebe que chegou &#224; &#250;ltima linha e fecha a lista.</pre><h3>Exemplo:</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>constroiMapaAux [(Bloco,(0,0)),(Bloco,(0,1)),(Bloco,(0,2)),(Bloco,(1,2)),(Porta,(2,2)),(Bloco,(3,2)),(Bloco,(4,2)),(Bloco,(1,3)),(Caixa,(2,3))] 0 3 4
</code></strong>[[Bloco,Vazio,Vazio,Vazio,Bloco],[Bloco,Vazio,Porta,Caixa,Bloco],[Bloco,Bloco,Bloco,Bloco,Bloco]]
</pre><p>Para al&#233;m da lista de pe&#231;as, note-se:</p><ul><li>0 &#233; o &#237;ndice da linha que a fun&#231;&#227;o ir&#225; converter primeiro. 
Como a fun&#231;&#227;o percorre a lista da cima para baixo, para o funcionamento correto da fun&#231;&#227;o &#233; necess&#225;rio introduzir 0 neste par&#226;metro.</li><li>3 &#233; o &#237;ndice da linha m&#225;ximo (valor y) do mapa exemplificado. Como referido, permite detetar a &#250;ltima linha do mapa.</li><li>4 &#233; o &#237;ndice m&#225;ximo de colunas (valor x) do mapa exemplificado.</li></ul></div></div><a href="#g:4" id="g:4"><h3>Fun&#231;&#245;es Auxiliares de <code><a href="Tarefa2_2021li1g025.html#v:constroiMapa" title="Tarefa2_2021li1g025">constroiMapa</a></code></h3></a><div class="top"><p class="src"><a id="v:ordena" class="def">ordena</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:ordena" class="selflink">#</a></p><div class="doc"><p>Ordena o mapa segundo x e y crescentes (com prioridade para y).
     Algoritmo de Insertion sort.
     Remove declara&#231;&#245;es repetidas de um tipo de pe&#231;a para a mesma coordenda.</p><h2>Exemplos:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ordena [(Caixa,(5,4)),(Porta,(7,5)),(Caixa,(4,5)),(Bloco,(1,4)),(Porta,(7,5))]
</code></strong>[(Bloco,(1,4)),(Caixa,(5,4)),(Caixa,(4,5)),(Porta,(7,5))]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ordena []
</code></strong>[]
</pre></div></div><div class="top"><p class="src"><a id="v:inserePeca" class="def">inserePeca</a> :: (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:inserePeca" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getLinha" class="def">getLinha</a> <a href="#v:getLinha" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Mapa em que a primeira linha constitui a linha de pe&#231;as que pretendemos separar.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>&#205;ndice da linha que pretendemos.</p></td></tr><tr><td class="src">-&gt; ([(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)], [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Dado o &#237;ndice da linha pretendido, devolve uma par com uma lista das pe&#231;as da linha pretendida e uma lista das restantes pe&#231;as, para maior efici&#234;ncia de <code><a href="Tarefa2_2021li1g025.html#v:constroiMapa" title="Tarefa2_2021li1g025">constroiMapa</a></code>.</p><p>Sup&#245;e-se que a lista fornecida j&#225; est&#225; organizada.</p><h3>Propriedades:</h3><ul><li>Como esta fun&#231;&#227;o &#233; usada em conjunto com <code><a href="Tarefa2_2021li1g025.html#v:constroiLinha" title="Tarefa2_2021li1g025">constroiLinha</a></code>, o &#237;ndice da linha pretendido ser&#225; sempre correspondente ao da primeira linha da tabela fornecida a esta fun&#231;&#227;o.</li></ul><h3>Exemplo:</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getLinha [(Bloco,(0,3)),(Bloco,(1,3)),(Bloco,(4,3)),(Bloco,(2,4)),(Bloco,(2,5)),(Bloco,(3,6))] 3
</code></strong>( [(Bloco,(0,3)),(Bloco,(1,3)),(Bloco,(4,3))] , [(Bloco,(2,4)),(Bloco,(2,5)),(Bloco,(3,6))] )
</pre><p>Para al&#233;m da lista de pe&#231;as, note-se:</p><ul><li>3 &#233; o &#237;ndice da linha (valor y) que pretendemos construir.</li><li>Todos os elementos da linha 3 s&#227;o colocados na primeira lista, e o restantes na segunda lista.</li></ul><h2>Fun&#231;&#245;es importadas</h2><p>Para al&#233;m das fun&#231;&#245;es auxiliares referidas, tamb&#233;m foram importadas da Tarefa 1 as fun&#231;&#245;es:</p><ul><li><code><a href="Tarefa1_2021li1g025.html#v:yMax" title="Tarefa1_2021li1g025">yMax</a></code> -  Devolve o y maximo do mapa.</li><li><code>Xmax</code> -  Devolve o x maximo do mapa.</li></ul></div></div><a href="#g:5" id="g:5"><h1>Fun&#231;&#227;o desconstroiMapa</h1></a><div class="top"><p class="src"><a id="v:desconstroiMapa" class="def">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:desconstroiMapa" class="selflink">#</a></p><div class="doc"><p>Dada uma mapa de pe&#231;as de todos os tipos, converte-o numa listagem das pe&#231;as e respetivas coordenadas, excluindo as pe&#231;as do tipo <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>.</p><p>Fun&#231;&#227;o inversa de <code><a href="Tarefa2_2021li1g025.html#v:constroiMapa" title="Tarefa2_2021li1g025">constroiMapa</a></code>, com estrutura id&#234;ntica.</p><h3>Exemplo:</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>desconstroiMapa [[Bloco,Vazio,Vazio,Vazio,Bloco],[Bloco,Vazio,Porta,Caixa,Bloco],[Bloco,Bloco,Bloco,Bloco,Bloco]]
</code></strong>[(Bloco,(0,0)),(Bloco,(4,0)),(Bloco,(0,1)),(Porta,(2,1)),(Caixa,(3,1)),(Bloco,(4,1)),(Bloco,(0,2)),(Bloco,(1,2)),(Bloco,(2,2)),(Bloco,(3,2)),(Bloco,(4,2))]
</pre></div></div><a href="#g:6" id="g:6"><h2>Fun&#231;&#227;o <code><a href="Tarefa2_2021li1g025.html#v:desconstroiLinha" title="Tarefa2_2021li1g025">desconstroiLinha</a></code></h2></a><div class="top"><p class="src"><a id="v:desconstroiLinha" class="def">desconstroiLinha</a> <a href="#v:desconstroiLinha" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</td><td class="doc"><p>Mapa com apenas as pe&#231;as da linha (atrav&#233;s de <code><a href="Tarefa2_2021li1g025.html#v:getLinha" title="Tarefa2_2021li1g025">getLinha</a></code>).</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Acumulador que guarda o &#237;ndice da coluna em que a fun&#231;&#227;o est&#225; a trabalhar.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Constante com o valor y da linha que pretendemos construir.</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Dada uma linha de pe&#231;as de todos os tipos, converte-a numa listagem das pe&#231;as e respetivas coordenadas, excluindo as pe&#231;as do tipo <code><a href="LI12122.html#v:Vazio" title="LI12122">Vazio</a></code>.</p><h3>Propriedades:</h3><pre>Quando uma pe&#231;a de uma linha dada tem um &#237;ndice de coluna (valor x), guardado no acumulador, igual ao valor m&#225;ximo x do mapa, a fun&#231;&#227;o percebe que chegou &#224; &#250;ltima coluna e fecha a lista.</pre><pre>Como a fun&#231;&#227;o trabalha apenas com uma lista de elementos da pr&#243;pria linha, &#233; mais eficiente a desconstru&#231;&#227;o da linha.</pre><h3>Exemplo:</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>desconstroiLinha [Vazio,Vazio,Porta,Vazio,Bloco,Bloco,Bloco,Caixa] 0 3
</code></strong>[(Porta,(2,3)),(Bloco,(4,3)),(Bloco,(5,3)),(Bloco,(6,3)),(Caixa,(7,3))]
</pre><p>Para al&#233;m da lista de pe&#231;as, note-se:</p><ul><li>0 &#233; o &#237;ndice de coluna da pe&#231;a que a fun&#231;&#227;o ir&#225; converter primeiro. 
Como a fun&#231;&#227;o percorre a lista da esquerda para a direita, para o funcionamento correto da fun&#231;&#227;o &#233; necess&#225;rio introduzir 0 neste par&#226;metro.</li><li>3 &#233; o &#237;ndice da linha (valor y) que pretendemos construir.</li></ul></div></div><a href="#g:7" id="g:7"><h2>Fun&#231;&#227;o <code><a href="Tarefa2_2021li1g025.html#v:desconstroiMapaAux" title="Tarefa2_2021li1g025">desconstroiMapaAux</a></code></h2></a><div class="top"><p class="src"><a id="v:desconstroiMapaAux" class="def">desconstroiMapaAux</a> <a href="#v:desconstroiMapaAux" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>Mapa original.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Acumulador que guarda o valor y da linha em que a fun&#231;&#227;o est&#225; a trabalhar.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Constante com o valor m&#225;ximo y da lista (atrav&#233;s de <code><a href="Tarefa2_2021li1g025.html#v:yMax2" title="Tarefa2_2021li1g025">yMax2</a></code>). </p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:8" id="g:8"><h3>Fun&#231;&#245;es auxiliares de <code><a href="Tarefa2_2021li1g025.html#v:desconstroiMapa" title="Tarefa2_2021li1g025">desconstroiMapa</a></code></h3></a><div class="top"><p class="src"><a id="v:yMax2" class="def">yMax2</a> :: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] -&gt; Int <a href="#v:yMax2" class="selflink">#</a></p><div class="doc"><p>Dada uma lista de pe&#231;as (sem coordenadas), devolve o &#237;ndice maximo de linha (valor y) de uma lista.</p></div></div><div class="top"><p class="src"><a id="v:getLinha2" class="def">getLinha2</a> <a href="#v:getLinha2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]]</td><td class="doc"><p>Mapa cuja primeira linha contem as pe&#231;as que pretendemos separar.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>&#205;ndice da linha que pretendemos.</p></td></tr><tr><td class="src">-&gt; ([<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>], [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Dado o &#237;ndice de linha pretendido de uma mapa, devolve uma par com uma lista das pe&#231;as da linha pretendida e uma lista das restantes pe&#231;as, para maior efici&#234;ncia de <code><a href="Tarefa2_2021li1g025.html#v:desconstroiMapa" title="Tarefa2_2021li1g025">desconstroiMapa</a></code>.</p><h3>Propriedades:</h3><ul><li>Como esta fun&#231;&#227;o &#233; usada em conjunto com <code><a href="Tarefa2_2021li1g025.html#v:desconstroiLinha" title="Tarefa2_2021li1g025">desconstroiLinha</a></code>, o &#237;ndice da linha pretendida ser&#225; sempre correspondente ao da primeira linha da tabela fornecida a esta fun&#231;&#227;o.</li></ul><h2>Exemplo:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getLinha2 [[Bloco,Bloco,Vazio,Vazio,Bloco],[Vazio,Vazio,Bloco,Vazio,Vazio],[Vazio,Vazio,Bloco,Vazio,Vazio],[Vazio,Vazio,Vazio,Bloco,Vazio]] 3
</code></strong>([Bloco,Bloco,Vazio,Vazio,Bloco],[[Vazio,Vazio,Bloco,Vazio,Vazio],[Vazio,Vazio,Bloco,Vazio,Vazio],[Vazio,Vazio,Vazio,Bloco,Vazio]])
</pre><p>Para al&#233;m da lista de pe&#231;as, note-se:</p><ul><li>3 &#233; o &#237;ndice da linha (valor y) que pretendemos construir.</li><li>Todos os elementos da linha 3 s&#227;o colocados na primeira lista, e o restantes na segunda lista.</li></ul></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>