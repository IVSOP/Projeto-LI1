<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa6_2021li1g025</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Pedro Miguel Meruge Ferreira &lt;a100709@alunos.uminho.pt&gt;;<br />: Ivan S&#233;rgio Rocha Ribeiro &lt;a100538@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa6_2021li1g025</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Data e tipos principais</a></li><li><a href="#g:2">Fun&#231;&#227;o principal </a></li><li><a href="#g:3">Fun&#231;&#245;es auxiliares</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 6 do projeto de LI1 em 2021/22.</p><p>A abordagem seguida foi construir uma &#225;rvore quatern&#225;ria de movimentos.</p><p>Cada Node est&#225; ligado a (potenciais) 4 Nodes filhos.</p><p>O Node raiz cont&#233;m o jogo inicial e uma lista vazia.</p><p>Cada um dos 4 Nodes subsequentes guarda dois dados: </p><ul><li>o jogo resultantes de aplicar, respetivamente, um dos 4 comandos de movimento (<code><a href="LI12122.html#v:InterageCaixa" title="LI12122">InterageCaixa</a></code>, <code><a href="LI12122.html#v:AndarEsquerda" title="LI12122">AndarEsquerda</a></code>, <code><a href="LI12122.html#v:AndarDireita" title="LI12122">AndarDireita</a></code>, <code><a href="LI12122.html#v:Trepar" title="LI12122">Trepar</a></code>) ao jogo do Node pai; </li><li>uma lista dos movimentos necess&#225;rios para chegar a esse jogo, desde o jogo incial guardado no Node raiz (esta lista &#233; continuamente expandida).</li></ul><p>Aumentando a profunidade, eventualmente, um dos Nodes cont&#233;m um jogo em que o jogador chega &#224; porta. Na menor profunidade em que isso se verificar, &#233; extra&#237;da a lista de movimentos guardada nesse node.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:MTree">MTree</a> a<ul class="subs"><li>= <a href="#v:Empty">Empty</a></li><li>| <a href="#v:Node">Node</a> a (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a) (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a) (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a) (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a)</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:CordsPorta">CordsPorta</a> = (Int, Int)</li><li class="src short"><a href="#v:resolveJogo">resolveJogo</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:sequenceBuilder">sequenceBuilder</a> :: Int -&gt; <a href="Tarefa6_2021li1g025.html#t:CordsPorta" title="Tarefa6_2021li1g025">CordsPorta</a> -&gt; [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])] -&gt; [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])] -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Maybe [Int]</li><li class="src short"><a href="#v:newDepth">newDepth</a> :: [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])] -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])]</li><li class="src short"><a href="#v:addDepth">addDepth</a> :: <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int]) -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])</li><li class="src short"><a href="#v:saveGames">saveGames</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>]</li><li class="src short"><a href="#v:decode">decode</a> :: [Int] -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:portaFinder">portaFinder</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="Tarefa6_2021li1g025.html#t:CordsPorta" title="Tarefa6_2021li1g025">CordsPorta</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Data e tipos principais</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MTree" class="def">MTree</a> a <a href="#t:MTree" class="selflink">#</a></p><div class="doc"><p>&#193;rvore quatern&#225;ria, em que cada node &#233; um dos dois:</p><ul><li>Folha; </li><li>Pai de quatro Nodes, associados aos quatro comandos de movimento poss&#237;veis.
  Por ordem, da esquerda para direita, correspondem aos movimentos: <code><a href="LI12122.html#v:InterageCaixa" title="LI12122">InterageCaixa</a></code>, <code><a href="LI12122.html#v:AndarEsquerda" title="LI12122">AndarEsquerda</a></code>, <code><a href="LI12122.html#v:AndarDireita" title="LI12122">AndarDireita</a></code> ou <code><a href="LI12122.html#v:Trepar" title="LI12122">Trepar</a></code>.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Empty" class="def">Empty</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Node" class="def">Node</a> a (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a) (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a) (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a) (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MTree">Instances</h4><details id="i:MTree" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MTree:Eq:1"></span> Eq a =&gt; Eq (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a)</span> <a href="#t:MTree" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MTree:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tarefa6_2021li1g025.html">Tarefa6_2021li1g025</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a -&gt; <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a -&gt; <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MTree:Show:2"></span> Show a =&gt; Show (<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a)</span> <a href="#t:MTree" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MTree:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tarefa6_2021li1g025.html">Tarefa6_2021li1g025</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> a] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CordsPorta" class="def">CordsPorta</a> = (Int, Int) <a href="#t:CordsPorta" class="selflink">#</a></p><div class="doc"><p>Par que cont&#233;m as coordenadas da porta</p></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#227;o principal </h1></a><div class="top"><p class="src"><a id="v:resolveJogo" class="def">resolveJogo</a> <a href="#v:resolveJogo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>N&#250;mero de movimentos m&#225;ximo para a solu&#231;&#227;o</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>Jogo em quest&#227;o</p></td></tr><tr><td class="src">-&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</td><td class="doc"><p>Lista dos movimentos para a solu&#231;&#227;o ou Nothing</p></td></tr></table></div><div class="doc"><p>Tenta resolver um jogo no menor n&#250;mero de movimentos, dado um valor m&#225;ximo destes.</p><p>Caso o n&#250;mero de movimentos dado seja 0, testa se a posi&#231;&#227;o atual do jogador &#233; a porte e devolve &quot;Just []&quot; ou <a href="Nothing.html">Nothing</a>.</p><p>Caso n&#227;o seja, recebe uma lista de movimentos no formato de n&#250;meros, proveniente de <code><a href="Tarefa6_2021li1g025.html#v:sequenceBuilder" title="Tarefa6_2021li1g025">sequenceBuilder</a></code>.</p><p>Ap&#243;s convers&#227;o da lista na fun&#231;&#227;o auxiliar <code><a href="Tarefa6_2021li1g025.html#v:decode" title="Tarefa6_2021li1g025">decode</a></code> , devolve uma lista de movimentos (ou <a href="Nothing.html">Nothing</a>).</p></div></div><a href="#g:3" id="g:3"><h1>Fun&#231;&#245;es auxiliares</h1></a><div class="top"><p class="src"><a id="v:sequenceBuilder" class="def">sequenceBuilder</a> <a href="#v:sequenceBuilder" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>N&#250;mero limite de movimentos</p></td></tr><tr><td class="src">-&gt; <a href="Tarefa6_2021li1g025.html#t:CordsPorta" title="Tarefa6_2021li1g025">CordsPorta</a></td><td class="doc"><p>Coordenadas da porta </p></td></tr><tr><td class="src">-&gt; [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])]</td><td class="doc"><p>Lista de nodes por comparar. Inicialmente, tem de ter o formato &quot;[(Node (j,[]) Empty Empty Empty Empty)]&quot;, sendo <code>j</code> o jogo inicial dado. </p></td></tr><tr><td class="src">-&gt; [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])]</td><td class="doc"><p>Lista de acumula&#231;&#227;o dos nodes processados. Os nodes s&#227;o todos folhas de uma certa profunidade da &#225;rvore.</p></td></tr><tr><td class="src">-&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>]</td><td class="doc"><p>Lista de jogos que o jogador j&#225; experimentou</p></td></tr><tr><td class="src">-&gt; Maybe [Int]</td><td class="doc"><p>Lista de movimentos no formato de n&#250;meros, &quot;Just [Int] ou <a href="Nothing.html">Nothing</a></p></td></tr></table></div><div class="doc"><p>Em cada passagem, <code><a href="Tarefa6_2021li1g025.html#v:sequenceBuilder" title="Tarefa6_2021li1g025">sequenceBuilder</a></code> recebe uma lista de nodes da mesma profundidade, provenientes da fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:newDepth" title="Tarefa6_2021li1g025">newDepth</a></code>.</p><p>Compara os jogos guardados nesses nodes com a posi&#231;&#227;o da porta (recebe as coordenadas como argumento) e de picos.</p><p>Se encontrar um jogo correspondente &#224; posi&#231;&#227;o da porta (significa que encontrou a solu&#231;&#227;o), extrai a lista de movimentos desse Node.</p><p>Se encontrar um jogo em que a posi&#231;&#227;o do jogador corresponde &#224; posi&#231;&#227;o de picos, corta esse ramo (ignora-o).</p><p>Sen&#227;o, adiciona os jogos que vai comparando a uma lista (acumulador), de modo a que n&#227;o se possam voltar a repetir esses jogos em nodes subsequentes, e reinica a procura nos nodes da profunidade seguinte da &#225;rvore de movimentos.</p><p>O primeiro Int que a fun&#231;&#227;o recebe tem de ser (n&#186; de moves poss&#237;veis + 1) para funcionar</p><p>O facto de receber as coordenadas da porta torna a fun&#231;&#227;o mais eficiente, por n&#227;o ter de as calcular repetidamente.</p></div></div><div class="top"><p class="src"><a id="v:newDepth" class="def">newDepth</a> <a href="#v:newDepth" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])]</td><td class="doc"><p>Lista de nodes (folha) de uma certa profundidade</p></td></tr><tr><td class="src">-&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>]</td><td class="doc"><p>Lista de jogos que o jogador j&#225; experimentou</p></td></tr><tr><td class="src">-&gt; [<a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])]</td><td class="doc"><p>Lista de nodes folha da profunidade seguinte</p></td></tr></table></div><div class="doc"><p>Obt&#233;m o conjunto de nodes da profunidade seguinte na &#225;rvore de movimentos.</p><p>Introduz os nodes pais (da lista que recebe) na fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:addDepth" title="Tarefa6_2021li1g025">addDepth</a></code>, e extrai todos os nodes filhos que contenham jogos inexplorados.</p><p>Se receber algum node <code><a href="Tarefa6_2021li1g025.html#v:Empty" title="Tarefa6_2021li1g025">Empty</a></code> , filtra-o da lista resultante.</p></div></div><div class="top"><p class="src"><a id="v:addDepth" class="def">addDepth</a> <a href="#v:addDepth" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])</td><td class="doc"><p>Node folha que cont&#233;m um jogo e uma lista de movimentos no formato de n&#250;meros</p></td></tr><tr><td class="src">-&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>]</td><td class="doc"><p>Lista de jogos que o jogador j&#225; experimentou</p></td></tr><tr><td class="src">-&gt; <a href="Tarefa6_2021li1g025.html#t:MTree" title="Tarefa6_2021li1g025">MTree</a> (<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>, [Int])</td><td class="doc"><p>Node pai que liga a quatro Nodes filhos (folhas) </p></td></tr></table></div><div class="doc"><p>Adiciona um de profundidade a folhas.</p><p>Recebe um Node folha e expande esse Node, conectando-o a quatro Nodes filhos. </p><p>Cada um destes filhos guarda o jogo resultante de aplicar, respetivamente, o movimento <code><a href="LI12122.html#v:InterageCaixa" title="LI12122">InterageCaixa</a></code>, <code><a href="LI12122.html#v:AndarEsquerda" title="LI12122">AndarEsquerda</a></code>, <code><a href="LI12122.html#v:AndarDireita" title="LI12122">AndarDireita</a></code> ou <code><a href="LI12122.html#v:Trepar" title="LI12122">Trepar</a></code> ao jogo do Node pai (node original). </p><p>Simultaneamente, ao aplicar um movimento, tamb&#233;m adiciona um n&#250;mero correspondente ao movimento (1 -&gt;<code><a href="LI12122.html#v:InterageCaixa" title="LI12122">InterageCaixa</a></code>, 2 -&gt; <code><a href="LI12122.html#v:AndarEsquerda" title="LI12122">AndarEsquerda</a></code>, 3 -&gt; <code><a href="LI12122.html#v:AndarDireita" title="LI12122">AndarDireita</a></code> ou 4 -&gt; <code><a href="LI12122.html#v:Trepar" title="LI12122">Trepar</a></code>) &#224; lista que o respetivo Node filho guarda.</p><p>No entanto, se ao expandir um dos ramos, se detetar que o jogo guardado num dos 4 novos nodes j&#225; consta na lista de jogos que a fun&#231;&#227;o recebe, esse ramo devolve <code><a href="Tarefa6_2021li1g025.html#v:Empty" title="Tarefa6_2021li1g025">Empty</a></code>, em vez de uma folha. </p><p>Ou seja, a fun&#231;&#227;o s&#243; cria novos nodes que guardem jogos inexplorados antes, aumentando a efici&#234;ncia.</p></div></div><div class="top"><p class="src"><a id="v:saveGames" class="def">saveGames</a> <a href="#v:saveGames" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></td><td class="doc"><p>Jogo que ir&#225; ser comparado</p></td></tr><tr><td class="src">-&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>]</td><td class="doc"><p>Lista de jogos </p></td></tr><tr><td class="src">-&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>]</td><td class="doc"><p>Lista de jogos (todos diferentes)</p></td></tr></table></div><div class="doc"><p>Verifica se um jogo j&#225; consta numa lista de jogos. Se n&#227;o existir, &#233; adicionado &#224; lista; caso j&#225; exista, n&#227;o &#233;.
     Usada na fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:sequenceBuilder" title="Tarefa6_2021li1g025">sequenceBuilder</a></code></p></div></div><div class="top"><p class="src"><a id="v:decode" class="def">decode</a> <a href="#v:decode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Int]</td><td class="doc"><p>Lista de inteiros</p></td></tr><tr><td class="src">-&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</td><td class="doc"><p>Lista de movimentos correspondentes</p></td></tr></table></div><div class="doc"><p>Descodifica uma lista de n&#250;meros inteiros, devolvendo uma lista de movimentos. </p><p>Segue a chave da fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:addDepth" title="Tarefa6_2021li1g025">addDepth</a></code>, ou seja, os n&#250;meros corresondem a: 1 -&gt;<code><a href="LI12122.html#v:InterageCaixa" title="LI12122">InterageCaixa</a></code>, 2 -&gt; <code><a href="LI12122.html#v:AndarEsquerda" title="LI12122">AndarEsquerda</a></code>, 3 -&gt; <code><a href="LI12122.html#v:AndarDireita" title="LI12122">AndarDireita</a></code>, 4 -&gt; <code><a href="LI12122.html#v:Trepar" title="LI12122">Trepar</a></code>.</p><p>Tamb&#233;m inverte os elementos da lista, porque recebe, da fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:addDepth" title="Tarefa6_2021li1g025">addDepth</a></code>, os elementos na ordem contr&#225;ria.</p><p>Usada na fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:resolveJogo" title="Tarefa6_2021li1g025">resolveJogo</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:portaFinder" class="def">portaFinder</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="Tarefa6_2021li1g025.html#t:CordsPorta" title="Tarefa6_2021li1g025">CordsPorta</a> <a href="#v:portaFinder" class="selflink">#</a></p><div class="doc"><p>Encontra as coordenadas da porta de um jogo.</p><p>Usada na fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:sequenceBuilder" title="Tarefa6_2021li1g025">sequenceBuilder</a></code>.</p><h3>Notas sobre efici&#234;ncia</h3><p>Foi utilizado o comando &quot;:set +s&quot; no ghci para as seguintes afirma&#231;&#245;es:</p><h2>Sobre a obten&#231;&#227;o da lista de movimentos :</h2><p>Foi testado devolver diretamente na fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:addDepth" title="Tarefa6_2021li1g025">addDepth</a></code> uma lista de movimentos (em vez de uma lista de n&#250;meros).</p><p>Foi testado adicionar diretamente na fun&#231;&#227;o <code><a href="Tarefa6_2021li1g025.html#v:addDepth" title="Tarefa6_2021li1g025">addDepth</a></code> os sucessivos movimentos ao fim da lista guardada nos Nodes (evitando um <code>reverse</code> posterior).</p><p>Mas, estas alternativas mostraram-se menos eficientes.</p><p>A maneira mais eficiente de obter o resultado pareceu ser codificar os movimentos, descodificar a lista de n&#250;meros final e depois reverter o resultado.</p><p>No entanto, a escala de profunidade das &#225;rvores usada para os testes foi pequena.</p><h2>Sobre a acumula&#231;&#227;o dos sucessivos jogos numa lista, na fun&#231;&#227;o <code>SequenceBuilder</code>:</h2><p>A acumula&#231;&#227;o de uma grande quantidade de jogos na lista tornava a fun&#231;&#227;o ineficiente. </p><p>No entanto, foi a melhor forma que conseguimos garantir que n&#227;o eram cortados certos ramos incorretamente. </p><p>Se n&#227;o guard&#225;ssemos o mapa, n&#227;o se tinha em conta caixas colocadas ap&#243;s o in&#237;cio, cortando ramos.</p><p>Se n&#227;o guard&#225;ssemos a informa&#231;&#227;o do jogador, ao atravessar a mesma posi&#231;&#227;o com <code><a href="LI12122.html#t:Direcao" title="LI12122">Direcao</a></code>  ou <a href="Bool.html">Bool</a> diferente, o ramo era cortado.</p><p>Assim, guardar o jogo todo foi a melhor abordagem que encontramos.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>