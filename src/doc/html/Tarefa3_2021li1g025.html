<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa3_2021li1g025</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Pedro Miguel Meruge Ferreira &lt;a100709@alunos.uminho.pt&gt;;<br />: Ivan S&#233;rgio Rocha Ribeiro &lt;a100538@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa3_2021li1g025</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Fun&#231;&#245;es utilizadas</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 3 do projeto de LI1 em 2021/22.</p><p>O mapa utilizado como exeplo ser&#225; o mesmo que na Tarefa1, mas em forma [[Peca]]</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:jogoToText">jogoToText</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [String]</li><li class="src short"><a href="#v:jogoToTextAux">jogoToTextAux</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; String</li><li class="src short"><a href="#v:insereJogador">insereJogador</a> :: <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; [String] -&gt; String</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#245;es utilizadas</h1></a><div class="top"><p class="src"><a id="v:jogoToText" class="def">jogoToText</a> <a href="#v:jogoToText" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>Lista de listas em que cada lista &#233; uma linha de pe&#231;as</p></td></tr><tr><td class="src">-&gt; [String]</td><td class="doc"><p>Igual ao mapa, mas as pe&#231;as est&#227;o transformadas nos seus correspondentes textuais</p></td></tr></table></div><div class="doc"><p>Aplica <code><a href="Tarefa3_2021li1g025.html#v:jogoToTextAux" title="Tarefa3_2021li1g025">jogoToTextAux</a></code> a cada linha, recursivamente, adicionando ao fim da linha &quot;n&quot;.</p><p>Quando o mapa tiver apenas uma lista, n&#227;o adiciona &quot;n&quot; para que n&#227;o fique no final da express&#227;o</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>jogoToText mapa
</code></strong>[&quot;X           X\n&quot;,&quot;X           X\n&quot;,&quot;X     X     X\n&quot;,&quot;X    CX     X\n&quot;,&quot;X   XXX X   X\n&quot;,&quot;X CX  X X  PX\n&quot;,&quot;XXX    XXXXXX&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:jogoToTextAux" class="def">jogoToTextAux</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; String <a href="#v:jogoToTextAux" class="selflink">#</a></p><div class="doc"><p>Transforma todos os elementos de uma linha nos seus correspondentes textuais</p><pre>case x of Bloco -&gt; <code>X</code>
           Porta -&gt; <code>P</code>
           Vazio -&gt; ' '
           Caixa -&gt; <code>C</code>
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>jogoToTextAux [Bloco,Porta,Caixa,Vazio,Bloco]
</code></strong>&quot;XPC B&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:insereJogador" class="def">insereJogador</a> :: <a href="LI12122.html#t:Jogador" title="LI12122">Jogador</a> -&gt; [String] -&gt; String <a href="#v:insereJogador" class="selflink">#</a></p><div class="doc"><p>Insere o jogador na lista de Strings criada pelo jogoToText, inserindo tamb&#233;m uma caixa caso este esteja a carregar uma</p><p>Dependendo da sua orienta&#231;&#227;o, este corresponder&#225; a <code>&gt;</code> ou <code>&lt;</code></p><p>A fun&#231;&#227;o funciona dividindo a lista de strings segundo o valor de y, obtendo assim a linha que queremos e as linhas antes e ap&#243;s</p><p>De seguida, a string obtida &#233; dividida segundo o valor de x, permitindo obter a <code>casa</code> que queremos, bem como as casas antes e ap&#243;s</p><p>Se o jogador puder ocupar essa casa, ela ser&#225; substitu&#237;da pela sua representa&#231;&#227;o e todas as Strings resultantes s&#227;o concatenadas numa s&#243;</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>insereJogador (Jogador (1,5) Este False) (jogoToText mapa)
</code></strong>&quot;X           X
 X           X
 X     X     X
 X    CX     X
 X   XXX X   X
 X&gt;CX  X X  PX
 XXX    XXXXXX&quot;
(transformando \n em par&#225;grafo)
</pre></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Show:Show:1"></span> Show <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a></span> <a href="#v:-36-fShowJogo" class="selflink">#</a></td><td class="doc"><p>Esta express&#227;o ser&#225; usada para transformar um jogo em texto, transformando-o numa inst&#226;ncia da classe Show.</p><p>Para tal, utilizamos as fun&#231;&#245;es <code><a href="Tarefa3_2021li1g025.html#v:insereJogador" title="Tarefa3_2021li1g025">insereJogador</a></code> e <code><a href="Tarefa3_2021li1g025.html#v:jogoToText" title="Tarefa3_2021li1g025">jogoToText</a></code></p><pre>show (Jogo mapa jogador) = insereJogador jogador (jogoToText mapa)</pre></td></tr><tr><td colspan="2"><details id="i:o:ic:Show:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; ShowS</p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>